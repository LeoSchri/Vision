@model Vision_V1.Models.Arc

@{
    ViewBag.Title = "Edit";
    ViewBag.Controller = "Arcs";
    Layout = "~/Views/Shared/Templates/EditTemplate.cshtml";
}

@section Title{@Model.Name}

@section HiddenFields{
    @Html.HiddenFor(model => model.ID)
    @Html.HiddenFor(model => model.BookId)
}

@section Attribute1Name{@Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-lg-2" })}
@section Attribute1Edit{
    @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
    @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
}

@section Attribute2Name{@Html.LabelFor(model => model.Summary, htmlAttributes: new { @class = "control-label col-lg-2" })}
@section Attribute2Edit{
    @Html.EditorFor(model => model.Summary, new { htmlAttributes = new { @class = "form-control" } })
    @Html.ValidationMessageFor(model => model.Summary, "", new { @class = "text-danger" })
}

@section Attribute3Name{
    @if (Model.PlotlineId != null)
    {
        <div class="padding-top-5">
            @Html.LabelFor(model => model.MainPlotline, htmlAttributes: new { @class = "control-label col-lg-2" })
        </div>
    }
    else
    {
        @Html.LabelFor(model => model.MainPlotline, htmlAttributes: new { @class = "control-label col-lg-2" })
    }
}
@section Attribute3Edit{
    @if (Model.PlotlineId != null)
    {
        @Html.DisplayFor(model => model.MainPlotline.Name)
    }
    else
    {
        <span>None</span>
    }
    <span>
        (
        <button type="button" class="btn btn-link" onclick="location.href='@Url.Action("PickForArc","Plotlines", new { id = Model.ID })'">
            Pick a main plotline
        </button>
        )
    </span>
}

@section Attribute4Name{@Html.LabelFor(model => model.EstimatedDuration, htmlAttributes: new { @class = "control-label col-lg-2" })}
@section Attribute4Edit{@Html.EnumDropDownListFor(model => model.EstimatedDuration, htmlAttributes: new { @class = "form-control" })}

@section CancelButton{
    <button type="button" class="btn btn-danger shadow" onclick="location.href='@Url.Action((string)Session["destinedMethod"], (string)Session["destinedController"])'">
        <img src="~/Content/Icons/CancelWhite.png" alt="Cancel" class="small_image" />
    </button>
}
